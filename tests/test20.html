<!DOCTYPE html>
<head>
  <!--<script src="http://live.yworks.com/yfiles-for-html/resources/scripts/rgbcolor.js"></script>-->
  <!--<script src="http://live.yworks.com/yfiles-for-html/resources/scripts/rgbcolor.js"></script>-->
  <script src="../../jsPDF/dist/jspdf.debug.js"></script>
  <script src="../rgbcolor.js"></script>
  <script src="../svg2pdf.js"></script>
</head>
<body>
<div style="float: left">
  <h4>SVG:</h4>
<svg id="svgElement" height="400" style="font-family:'lucida grande', 'lucida sans unicode', arial, helvetica, sans-serif;font-size:12px;" version="1.1" width="500" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <desc>Created with Highcharts 4.2.6</desc>
  <defs>
    <clipPath id="highcharts-7">
      <rect height="246" width="419" x="0" y="0"/>
    </clipPath>
  </defs>
  <rect class=" highcharts-background" fill="#FFFFFF" height="400" width="500" x="0" y="0"/>
  <g class="highcharts-grid"/>
  <g class="highcharts-grid">
    <path d="M 71 326.5 L 490 326.5" fill="none" opacity="1" stroke="#D8D8D8" stroke-width="1"/>
    <path d="M 71 277.5 L 490 277.5" fill="none" opacity="1" stroke="#D8D8D8" stroke-width="1"/>
    <path d="M 71 228.5 L 490 228.5" fill="none" opacity="1" stroke="#D8D8D8" stroke-width="1"/>
    <path d="M 71 178.5 L 490 178.5" fill="none" opacity="1" stroke="#D8D8D8" stroke-width="1"/>
    <path d="M 71 129.5 L 490 129.5" fill="none" opacity="1" stroke="#D8D8D8" stroke-width="1"/>
    <path d="M 71 79.5 L 490 79.5" fill="none" opacity="1" stroke="#D8D8D8" stroke-width="1"/>
  </g>
  <g class="highcharts-axis">
    <path d="M 105.5 326 L 105.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 140.5 326 L 140.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 175.5 326 L 175.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 210.5 326 L 210.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 245.5 326 L 245.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 280.5 326 L 280.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 314.5 326 L 314.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 349.5 326 L 349.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 384.5 326 L 384.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 419.5 326 L 419.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 454.5 326 L 454.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 489.5 326 L 489.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 70.5 326 L 70.5 336" fill="none" opacity="1" stroke="#C0D0E0" stroke-width="1"/>
    <path d="M 71 326.5 L 490 326.5" fill="none" stroke="#C0D0E0" stroke-width="1"/>
  </g>
  <g class="highcharts-axis">
    <text class=" highcharts-yaxis-title" style="color:#707070;fill:#707070;" text-anchor="middle" transform="translate(0,0) rotate(270 25.140625 203)" x="25.140625" y="203">
      <tspan>This text is rotated</tspan>
    </text>
  </g>
  <g class="highcharts-series-group">
    <g class="highcharts-series highcharts-series-0" clip-path="url(#highcharts-7)" transform="translate(71,80) scale(1 1)">
      <path d="M 17.458333333333 216.5784 L 52.375 175.644 L 87.291666666667 141.30239999999998 L 122.20833333333 118.86720000000001 L 157.125 104.304 L 192.04166666667 72.816 L 226.95833333333 112.56960000000001 L 261.875 99.876 L 296.79166666667 33.0624 L 331.70833333333 55.005600000000015 L 366.625 151.9296 L 401.54166666667 192.4704" fill="none" stroke="#7cb5ec" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
    </g>
    <g class="highcharts-markers highcharts-series-0" clip-path="none" transform="translate(71,80) scale(1 1)">
      <path d="M 401 188.4704 C 406.328 188.4704 406.328 196.4704 401 196.4704 C 395.672 196.4704 395.672 188.4704 401 188.4704 Z" fill="#7cb5ec"/>
      <path d="M 366 147.9296 C 371.328 147.9296 371.328 155.9296 366 155.9296 C 360.672 155.9296 360.672 147.9296 366 147.9296 Z" fill="#7cb5ec"/>
      <path d="M 331 51.005600000000015 C 336.328 51.005600000000015 336.328 59.005600000000015 331 59.005600000000015 C 325.672 59.005600000000015 325.672 51.005600000000015 331 51.005600000000015 Z" fill="#7cb5ec"/>
      <path d="M 296 29.062399999999997 C 301.328 29.062399999999997 301.328 37.0624 296 37.0624 C 290.672 37.0624 290.672 29.062399999999997 296 29.062399999999997 Z" fill="#7cb5ec"/>
      <path d="M 261 95.876 C 266.328 95.876 266.328 103.876 261 103.876 C 255.672 103.876 255.672 95.876 261 95.876 Z" fill="#7cb5ec"/>
      <path d="M 226 108.56960000000001 C 231.328 108.56960000000001 231.328 116.56960000000001 226 116.56960000000001 C 220.672 116.56960000000001 220.672 108.56960000000001 226 108.56960000000001 Z" fill="#7cb5ec"/>
      <path d="M 192 68.816 C 197.328 68.816 197.328 76.816 192 76.816 C 186.672 76.816 186.672 68.816 192 68.816 Z" fill="#7cb5ec"/>
      <path d="M 157 100.304 C 162.328 100.304 162.328 108.304 157 108.304 C 151.672 108.304 151.672 100.304 157 100.304 Z" fill="#7cb5ec"/>
      <path d="M 122 114.86720000000001 C 127.328 114.86720000000001 127.328 122.86720000000001 122 122.86720000000001 C 116.672 122.86720000000001 116.672 114.86720000000001 122 114.86720000000001 Z" fill="#7cb5ec"/>
      <path d="M 87 137.30239999999998 C 92.328 137.30239999999998 92.328 145.30239999999998 87 145.30239999999998 C 81.672 145.30239999999998 81.672 137.30239999999998 87 137.30239999999998 Z" fill="#7cb5ec"/>
      <path d="M 52 171.644 C 57.328 171.644 57.328 179.644 52 179.644 C 46.672 179.644 46.672 171.644 52 171.644 Z" fill="#7cb5ec"/>
      <path d="M 17 212.5784 C 22.328 212.5784 22.328 220.5784 17 220.5784 C 11.672 220.5784 11.672 212.5784 17 212.5784 Z" fill="#7cb5ec"/>
    </g>
  </g>
  <text class="highcharts-title" style="color:#333333;font-size:18px;fill:#333333;width:436px;" text-anchor="middle" x="250" y="24">
    <tspan>Chart title</tspan>
  </text>
  <text class="highcharts-subtitle" style="color:#555555;fill:#555555;width:436px;" text-anchor="middle" x="250" y="45">
    <tspan>This text has </tspan>
    <tspan dx="0" style="font-weight:bold">bold</tspan>
    <tspan dx="0">, </tspan>
    <tspan dx="0" style="font-style:italic">italic</tspan>
    <tspan dx="0">, </tspan>
    <tspan dx="0" style="fill: red">coloured</tspan>
    <tspan dx="0">, </tspan>
    <tspan dx="0">linked</tspan>
    <tspan dx="0">and</tspan>
    <tspan dy="15" x="250">line-broken text.</tspan>
  </text>
  <g class="highcharts-legend" transform="translate(207,359)">
    <g>
      <g>
        <g class="highcharts-legend-item" transform="translate(8,3)">
          <path d="M 0 11 L 16 11" fill="none" stroke="#7cb5ec" stroke-width="2"/>
          <path d="M 8 7 C 13.328 7 13.328 15 8 15 C 2.6719999999999997 15 2.6719999999999997 7 8 7 Z" fill="#7cb5ec"/>
          <text style="color:#333333;font-size:12px;font-weight:bold;cursor:pointer;fill:#333333;" text-anchor="start" x="21" y="15">
            <tspan>Series 1</tspan>
          </text>
        </g>
      </g>
    </g>
  </g>
  <g class="highcharts-axis-labels highcharts-xaxis-labels">
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="88.45833333333333" y="345">Jan</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="123.37499999999999" y="345">Feb</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="158.29166666666666" y="345">Mar</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="193.20833333333331" y="345">Apr</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="228.125" y="345">May</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="263.0416666666667" y="345">Jun</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="297.9583333333333" y="345">Jul</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="332.875" y="345">Aug</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="367.79166666666663" y="345">Sep</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="402.7083333333333" y="345">Oct</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="437.625" y="345">Nov</text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;" text-anchor="middle" transform="translate(0,0)" x="472.54166666666663" y="345">Dec</text>
  </g>
  <g class="highcharts-axis-labels highcharts-yaxis-labels">
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;width:155px;text-overflow:clip;" text-anchor="end" transform="translate(0,0)" x="56" y="331">
      <tspan>0</tspan>
    </text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;width:155px;text-overflow:clip;" text-anchor="end" transform="translate(0,0)" x="56" y="281">
      <tspan>50</tspan>
    </text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;width:155px;text-overflow:clip;" text-anchor="end" transform="translate(0,0)" x="56" y="232">
      <tspan>100</tspan>
    </text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;width:155px;text-overflow:clip;" text-anchor="end" transform="translate(0,0)" x="56" y="183">
      <tspan>150</tspan>
    </text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;width:155px;text-overflow:clip;" text-anchor="end" transform="translate(0,0)" x="56" y="134">
      <tspan>200</tspan>
    </text>
    <text opacity="1" style="color:#606060;cursor:default;font-size:11px;fill:#606060;width:155px;text-overflow:clip;" text-anchor="end" transform="translate(0,0)" x="56" y="85">
      <tspan>250</tspan>
    </text>
  </g>
  <g class="highcharts-tooltip" style="cursor:default;padding:0;pointer-events:none;white-space:nowrap;" transform="translate(0,-9000000000)">
    <path d="M 3.5 0.5 L 13.5 0.5 C 16.5 0.5 16.5 0.5 16.5 3.5 L 16.5 13.5 C 16.5 16.5 16.5 16.5 13.5 16.5 L 3.5 16.5 C 0.5 16.5 0.5 16.5 0.5 13.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5" fill="none" stroke="black" stroke-opacity="0.049999999999999996" stroke-width="5" transform="translate(1, 1)"/>
    <path d="M 3.5 0.5 L 13.5 0.5 C 16.5 0.5 16.5 0.5 16.5 3.5 L 16.5 13.5 C 16.5 16.5 16.5 16.5 13.5 16.5 L 3.5 16.5 C 0.5 16.5 0.5 16.5 0.5 13.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5" fill="none" stroke="black" stroke-opacity="0.09999999999999999" stroke-width="3" transform="translate(1, 1)"/>
    <path d="M 3.5 0.5 L 13.5 0.5 C 16.5 0.5 16.5 0.5 16.5 3.5 L 16.5 13.5 C 16.5 16.5 16.5 16.5 13.5 16.5 L 3.5 16.5 C 0.5 16.5 0.5 16.5 0.5 13.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5" fill="none" stroke="black" stroke-opacity="0.15" stroke-width="1" transform="translate(1, 1)"/>
    <path d="M 3.5 0.5 L 13.5 0.5 C 16.5 0.5 16.5 0.5 16.5 3.5 L 16.5 13.5 C 16.5 16.5 16.5 16.5 13.5 16.5 L 3.5 16.5 C 0.5 16.5 0.5 16.5 0.5 13.5 L 0.5 3.5 C 0.5 0.5 0.5 0.5 3.5 0.5" fill="rgb(249, 249, 249)" fill-opacity=" .85"/>
    <text style="font-size:12px;color:#333333;fill:#333333;" x="8" y="20"/>
  </g>
  <text style="cursor:pointer;color:#909090;font-size:9px;fill:#909090;" text-anchor="end" x="490" y="395">Highcharts.com</text>
</svg>
</div>
<!--
<br>
<button onclick="save();">Convert</button>
<br>
-->
<div style="float: left">
  <h4>PDF:</h4>
  <iframe id="pdf" style="width: 550px; height: 600px"></iframe>
</div>
<script>
  function svgToPdf(svgElement, margin) {
    var width = svgElement.width.baseVal.value + 2 * margin;
    var height = svgElement.height.baseVal.value + 2 * margin;
    var pdf = new jsPDF('l', 'pt', [width, height]);
    svgElementToPdf(svgElement, pdf, {removeInvalid: true});

    return pdf.output('datauristring');
  }

  function saveToFile(/**string*/ fileContentUrl, /**string*/ fileName, /**function(Object, yfiles.canvas.FileEventArgs)*/ handler) {
    var aElement = document.createElement("a");
    aElement.setAttribute("href", fileContentUrl);
    aElement.setAttribute("download", fileName);
    aElement.style.setProperty("display", "none", "");
    document.body.appendChild(aElement);
    aElement.click();
    document.body.removeChild(aElement);

    handler();
  }

  function save() {
//    saveToFile(svgToPdf(document.getElementById("svgElement"), 0), "svg.pdf", function () {
//    });
    document.getElementById("pdf").src = svgToPdf(document.getElementById("svgElement"), 0);
  }

  save();
</script>
</body>